<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Private Light Novel Collection">
	<title>Light Novels</title>

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
		rel="stylesheet">

	<link rel="stylesheet" href="style.css">
</head>

<body>
	<header>
		<nav>
			<h1>LNBox</h1>
			<a href="/library">Library</a>
			<a href="/guides">Guides</a>
		</nav>

		<button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
				<path
					d="M12 18c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zm0-10c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0-4a1 1 0 0 1-1-1V1a1 1 0 0 1 2 0v2a1 1 0 0 1-1 1zm0 20a1 1 0 0 1-1-1v-2a1 1 0 1 1 2 0v2a1 1 0 0 1-1 1zM5.64 6.64a.997.997 0 0 1-.707-.293L3.52 4.93a1 1 0 0 1 1.414-1.414l1.414 1.414a1 1 0 0 1-.707 1.707zm12.72 12.72a.997.997 0 0 1-.707-.293l-1.414-1.414a1 1 0 1 1 1.414-1.414l1.414 1.414a1 1 0 0 1-.707 1.707zM3 13H1a1 1 0 1 1 0-2h2a1 1 0 0 1 0 2zm20 0h-2a1 1 0 1 1 0-2h2a1 1 0 1 1 0 2zM4.93 20.48a1 1 0 0 1-.707-1.707l1.414-1.414a1 1 0 0 1 1.414 1.414l-1.414 1.414a.997.997 0 0 1-.707.293zm14.14-14.14a1 1 0 0 1-.707-1.707l1.414-1.414a1 1 0 1 1 1.414 1.414l-1.414 1.414a.997.997 0 0 1-.707.293z" />
			</svg>
		</button>
	</header>

	<main>
		<div class="hero">
			<h1 class="title"><span>Alpin's Light Novels</span></h1>
			<p class="subtitle">
				Welcome to my collection of Light Novels! This is a private library for myself and my
				friends.
			</p>

			<div class="login-form">
				<form id="loginForm" onsubmit="handleLogin(event)">
					<input type="text" id="username" placeholder="Username" required>
					<input type="password" id="password" placeholder="Password" required>
					<button type="submit" class="button">Login to Library âœ§</button>
				</form>
				<p class="login-message" id="loginMessage"></p>
			</div>

			<div class="access-section">
				<h3>Request Access</h3>

				<div>
					<div class="email-container">
						<p>Email me at:</p>
						<span class="email-address" role="button" tabindex="0" data-user="lnbox"
							data-domain="alpindale.net">
						</span>
					</div>

					<div class="requirements">
						<p>Include in your message:</p>
						<ul>
							<li>Your Discord username (if you have one)</li>
							<li>How you found this collection</li>
						</ul>
					</div>
				</div>
			</div>
		</div>

	</main>

	<!-- other -->

	<div class="bg-box-container">
		<div>
			<div id="bg-box-1" class="bg-box">
			</div>

			<div id="bg-box-2" class="bg-box">
			</div>
		</div>
	</div>

	<div class="mascot">
		<div class="mascot-glow"></div>
		<script>
			const mascotImages = [
				"nekokawa.png",
				"hanekawa.png",
			];

			const path = 'images/';
			const num = Math.floor(Math.random() * mascotImages.length);
			const img = mascotImages[num];
			const imgStr = `<img src="${path}${img}" alt="Mascot character" loading="lazy">`;

			document.write(imgStr);
			document.close();
		</script>
	</div>

	<script src="/scripts/theme.js"></script>
	<script src="/scripts/login.js"></script>
	<script>
		const emailElement = document.querySelector('.email-address');
		const user = emailElement.getAttribute('data-user');
		const domain = emailElement.getAttribute('data-domain');

		function constructEmail() {
			return `${user}@${domain}`;
		}

		emailElement.innerHTML = constructEmail().replace('@', '&#64;').replace('.', '&#46;');

		emailElement.addEventListener('click', copyEmail);
		emailElement.addEventListener('touchstart', copyEmail);
		emailElement.addEventListener('keypress', (e) => {
			if (e.key === 'Enter' || e.key === ' ') {
				copyEmail(e);
			}
		});
		function copyEmail(e) {
			e.preventDefault();
			navigator.clipboard.writeText(constructEmail()).then(() => {
				emailElement.classList.add('copied');
				setTimeout(() => {
					emailElement.classList.remove('copied');
				}, 2000);
			}).catch(err => {
				console.error('Failed to copy:', err);
			});
		}

		document.querySelector('.button').addEventListener('click', function (e) {
			let rect = e.target.getBoundingClientRect();
			let ripple = e.target;

			ripple.classList.remove('ripple');

			let x = e.clientX - rect.left;
			let y = e.clientY - rect.top;

			ripple.style.setProperty('--ripple-x', x + 'px');
			ripple.style.setProperty('--ripple-y', y + 'px');

			void ripple.offsetWidth;

			ripple.classList.add('ripple');
		});
	</script>
	<script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'9032b1949e1a34d3',t:'MTczNzA3ODYxOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>
</body>

</html>